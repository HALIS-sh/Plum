`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loading pipeline components...: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:00<00:00,  6.16it/s]
Some weights of PegasusForConditionalGeneration were not initialized from the model checkpoint at /home/wenhesun/.cache/huggingface/hub/models--tuner007--pegasus_paraphrase and are newly initialized: ['model.decoder.embed_positions.weight', 'model.encoder.embed_positions.weight']
You should probably TRAIN this model on a down-stream task to be able to use it for predictions and inference.
Current Iteration:  1

Loading pipeline components...: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████| 6/6 [00:01<00:00,  3.44it/s]
Loading pipeline components...:   0%|                                                                                                                 | 0/6 [00:00<?, ?it/s]
ave_score: 13.895303010940552
result_candidate:  'a picture of a spaceman mounted on a horse on the surface of Mars' result_score:  13.895303010940552
Loading pipeline components...:  67%|██████████████████████████████████████████████████████████████████████                                   | 4/6 [00:02<00:01,  1.82it/s]
Traceback (most recent call last):
  File "/home/wenhesun/Plum/pic_score_main.py", line 72, in <module>
    main(args)
  File "/home/wenhesun/Plum/pic_score_main.py", line 18, in main
    trainer.train(args)
  File "/home/wenhesun/Plum/trainers/Pic_HC_trainer.py", line 288, in train
    best_score = self.pics_score(best_candidate, current_iteration, args)
  File "/home/wenhesun/Plum/trainers/Pic_HC_trainer.py", line 216, in pics_score
    sd_pipe = StableDiffusionPipeline.from_pretrained("/home/wenhesun/.cache/huggingface/hub/models--stabilityai--stable-diffusion-2-1/snapshots/5cae40e6a2745ae2b01ad92ae5043f95f23644d6", torch_dtype=torch.float16)
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/huggingface_hub/utils/_validators.py", line 118, in _inner_fn
    return fn(*args, **kwargs)
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/diffusers/pipelines/pipeline_utils.py", line 1271, in from_pretrained
    loaded_sub_model = load_sub_model(
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/diffusers/pipelines/pipeline_utils.py", line 525, in load_sub_model
    loaded_sub_model = load_method(os.path.join(cached_folder, name), **loading_kwargs)
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/huggingface_hub/utils/_validators.py", line 118, in _inner_fn
    return fn(*args, **kwargs)
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/diffusers/models/modeling_utils.py", line 812, in from_pretrained
    unexpected_keys = load_model_dict_into_meta(
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/diffusers/models/modeling_utils.py", line 159, in load_model_dict_into_meta
    set_module_tensor_to_device(model, param_name, device, value=param, dtype=dtype)
  File "/home/wenhesun/anaconda3/envs/stable-diffusion/lib/python3.9/site-packages/accelerate/utils/modeling.py", line 318, in set_module_tensor_to_device
    value = value.to(dtype)
KeyboardInterrupt